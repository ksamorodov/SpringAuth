<div *ngIf="currentUser && currentUser.temporaryPassword == false">
    <h1>–í–∞—à –ª–æ–≥–∏–Ω: {{currentUser.username}}!</h1>
    <p>–í—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É</p>
    <h3 *ngIf="currentUser.role === 'ADMIN'">–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</h3>
    <ul *ngIf="currentUser.role === 'ADMIN'">
        <li *ngFor="let user of users">
            <a *ngIf="user.role === 'ADMIN'" class="text-warning"> {{user.username}} </a>
            <a *ngIf="user.role === 'USER' && currentUser.blockedAt == null" class="user"> {{user.username}} </a>
            <a *ngIf="user.role === 'USER' && currentUser.blockedAt != null" class="blocked-user"> {{user.username}} </a>
            -
            <a *ngIf="user.role === 'USER' && user.blockedAt == true" class="text-danger"> (–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω) {{" | "}}</a>
            <a (click)="deleteUser(user.id)" *ngIf="user.role === 'USER'" class="text-danger"> üóë {{" | "}}</a>
            <a *ngIf="user.role === 'USER' && user.blockedAt == false" (click)="blockUser(user.id)" class="text-danger"> üö´{{" | "}}</a>
            <a *ngIf="user.role === 'USER' && user.blockedAt == true" (click)="unblockUser(user.id)" class="text-danger"> üîô {{" | "}}</a>
            <a *ngIf="user.role === 'USER'" (click)="changePassword(user)" class="text-danger">üîë {{" | "}}</a>
            <a *ngIf="user.role === 'USER' && user.blockedAt == false" (click)="setValidPassword(user.id, !user.validPassword)" class="text-danger">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è: {{ isValidationOfPasswordEnabled(user.validPassword) }}</a>
        </li>
    </ul>

    <a (click)="changePassword(currentUser)" class="text-danger">–ò–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–π –ø–∞—Ä–æ–ª—å</a>

</div>

<div *ngIf="isPasswordChangerOpened || currentUser.temporaryPassword == true">
    <h1 *ngIf="currentUser.temporaryPassword == true"> –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å! </h1>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group" *ngIf="currentUser.temporaryPassword == false">
            <label for="oldPassword" >–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å</label>
            <input type="password" formControlName="oldPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.oldPassword.errors }" />
        </div>
        <div class="form-group">
            <label for="password">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
            <input type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
        </div>
        <div>
            <label for="repeatPassword">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
            <input type="password" formControlName="repeatPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.repeatPassword.errors }" />
        </div>
        <!--    <a>Enable password validator {{" "}}</a>-->
        <!--    <input type="checkbox" checked="{{setPasswordValidation()}}" />-->
        <div class="form-group">
            <button [disabled]="loading || !hasDuplicateSymbols" class="btn btn-primary">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
            </button>
            <a routerLink="/login" class="btn btn-link">–ó–∞–∫—Ä—ã—Ç—å</a>
        </div>
    </form>
</div>

